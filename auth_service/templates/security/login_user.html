{% extends "base.html" %}
{% block content %}
  <div class="column is-4 is-offset-4">
    <h3 class="title">Login</h3>
    <div class="box">
      <form method="POST" action="{{ next_url }}">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />
        <div class="field">
          <div class="control">
            <input class="input is-large"
                   type="email"
                   name="email"
                   placeholder="Your Email"
                   autofocus=""/>
          </div>
        </div>
        <div class="field">
          <div class="control">
            <input class="input is-large"
                   type="password"
                   name="password"
                   placeholder="Your Password"/>
          </div>
        </div>
        <div class="field">
          <label class="checkbox">
            <input type="checkbox" name="remember" />
            Remember me
          </label>
        </div>
        <div style="color: red">
          {% if error_msg %}
            <div class="notification is-warning is-light">
              <button class="delete"></button>
              {{ error_msg }}
            </div>
          {% endif %}
        </div>
        <button class="button is-block is-info is-large is-fullwidth">Login</button>
      </form>
    </div>
  </div>
{% endblock %}
{% block scripts %}
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
        const $notification = $delete.parentNode;
    
        $delete.addEventListener('click', () => {
          $notification.parentNode.removeChild($notification);
        });
      });
    });
  </script>
{%- endblock scripts %}
